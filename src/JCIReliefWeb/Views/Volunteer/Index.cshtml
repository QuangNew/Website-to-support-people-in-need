@{
    ViewData["Title"] = "ƒêƒÉng k√Ω t√¨nh nguy·ªán";
}

<div class="volunteer-page">
    <div class="row g-4">
        <!-- Registration Form -->
        <div class="col-lg-7">
            <div class="card">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">
                        <i class="fa-solid fa-hands-holding-heart me-2"></i>ƒêƒÉng k√Ω t√¨nh nguy·ªán vi√™n
                    </h4>
                </div>
                <div class="card-body">
                    <div class="alert alert-success">
                        <i class="fa-solid fa-heart me-2"></i>
                        C·∫£m ∆°n b·∫°n ƒë√£ quan t√¢m ƒë·∫øn ho·∫°t ƒë·ªông t√¨nh nguy·ªán! Vui l√≤ng ƒëi·ªÅn th√¥ng tin b√™n d∆∞·ªõi.
                    </div>

                    <form id="volunteerForm">
                        <!-- Personal Info -->
                        <div class="form-section">
                            <h5 class="section-title">
                                <i class="fa-solid fa-user me-2"></i>Th√¥ng tin c√° nh√¢n
                            </h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">H·ªç v√† t√™n <span class="text-danger">*</span></label>
                                    <input type="text" class="form-control" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Ng√†y sinh</label>
                                    <input type="date" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">S·ªë ƒëi·ªán tho·∫°i <span class="text-danger">*</span></label>
                                    <input type="tel" class="form-control" required>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">Email</label>
                                    <input type="email" class="form-control">
                                </div>
                                <div class="col-12">
                                    <label class="form-label">ƒê·ªãa ch·ªâ</label>
                                    <input type="text" class="form-control" placeholder="Th√†nh ph·ªë/T·ªânh">
                                </div>
                            </div>
                        </div>

                        <!-- Skills -->
                        <div class="form-section">
                            <h5 class="section-title">
                                <i class="fa-solid fa-star me-2"></i>K·ªπ nƒÉng c·ªßa b·∫°n
                            </h5>
                            <p class="text-muted mb-3">Ch·ªçn c√°c k·ªπ nƒÉng b·∫°n c√≥ th·ªÉ ƒë√≥ng g√≥p:</p>
                            
                            <div class="skills-grid">
                                <label class="skill-option">
                                    <input type="checkbox" name="skills" value="first-aid">
                                    <span class="skill-box">
                                        <i class="fa-solid fa-kit-medical"></i>
                                        <span class="skill-name">S∆° c·ª©u</span>
                                        <span class="skill-desc">C√≥ ch·ª©ng ch·ªâ ho·∫∑c kinh nghi·ªám s∆° c·ª©u</span>
                                    </span>
                                </label>
                                <label class="skill-option">
                                    <input type="checkbox" name="skills" value="cooking">
                                    <span class="skill-box">
                                        <i class="fa-solid fa-utensils"></i>
                                        <span class="skill-name">N·∫•u ƒÉn</span>
                                        <span class="skill-desc">C√≥ th·ªÉ n·∫•u ƒÉn cho s·ªë l∆∞·ª£ng l·ªõn</span>
                                    </span>
                                </label>
                                <label class="skill-option">
                                    <input type="checkbox" name="skills" value="driving">
                                    <span class="skill-box">
                                        <i class="fa-solid fa-truck"></i>
                                        <span class="skill-name">L√°i xe</span>
                                        <span class="skill-desc">C√≥ b·∫±ng l√°i xe t·∫£i 1.5-4 t·∫•n</span>
                                    </span>
                                </label>
                                <label class="skill-option">
                                    <input type="checkbox" name="skills" value="tech">
                                    <span class="skill-box">
                                        <i class="fa-solid fa-laptop"></i>
                                        <span class="skill-name">H·ªó tr·ª£ k·ªπ thu·∫≠t</span>
                                        <span class="skill-desc">IT, truy·ªÅn th√¥ng, ƒëi·ªÅu ph·ªëi</span>
                                    </span>
                                </label>
                                <label class="skill-option">
                                    <input type="checkbox" name="skills" value="medical">
                                    <span class="skill-box">
                                        <i class="fa-solid fa-user-doctor"></i>
                                        <span class="skill-name">Y t·∫ø</span>
                                        <span class="skill-desc">B√°c sƒ©, y t√°, d∆∞·ª£c sƒ©</span>
                                    </span>
                                </label>
                                <label class="skill-option">
                                    <input type="checkbox" name="skills" value="general">
                                    <span class="skill-box">
                                        <i class="fa-solid fa-hands-helping"></i>
                                        <span class="skill-name">H·ªó tr·ª£ chung</span>
                                        <span class="skill-desc">Ph√¢n ph√°t h√†ng, d·ªçn d·∫πp</span>
                                    </span>
                                </label>
                            </div>
                        </div>

                        <!-- Availability -->
                        <div class="form-section">
                            <h5 class="section-title">
                                <i class="fa-solid fa-calendar me-2"></i>Th·ªùi gian c√≥ th·ªÉ tham gia
                            </h5>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">T·ª´ ng√†y</label>
                                    <input type="date" class="form-control">
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label">ƒê·∫øn ng√†y</label>
                                    <input type="date" class="form-control">
                                </div>
                                <div class="col-12">
                                    <label class="form-label">Ghi ch√∫ v·ªÅ th·ªùi gian</label>
                                    <textarea class="form-control" rows="2" placeholder="VD: Ch·ªâ c√≥ th·ªÉ tham gia cu·ªëi tu·∫ßn..."></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Agreement -->
                        <div class="form-check mb-4">
                            <input class="form-check-input" type="checkbox" id="agreement" required>
                            <label class="form-check-label" for="agreement">
                                T√¥i cam k·∫øt tu√¢n th·ªß quy ƒë·ªãnh c·ªßa t·ªï ch·ª©c v√† tham gia ƒë·∫ßy ƒë·ªß c√°c ho·∫°t ƒë·ªông ƒë√£ ƒëƒÉng k√Ω
                            </label>
                        </div>

                        <button type="submit" class="btn btn-success btn-lg w-100">
                            <i class="fa-solid fa-paper-plane me-2"></i>ƒêƒÉng k√Ω t√¨nh nguy·ªán vi√™n
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-5">
            <!-- Why Volunteer -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fa-solid fa-circle-question me-2"></i>T·∫°i sao n√™n tham gia?
                    </h5>
                </div>
                <div class="card-body">
                    <div class="benefit-list">
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fa-solid fa-heart"></i>
                            </div>
                            <div class="benefit-text">
                                <strong>G√≥p ph·∫ßn t·∫°o n√™n s·ª± thay ƒë·ªïi</strong>
                                <p class="mb-0">Gi√∫p ƒë·ª° tr·ª±c ti·∫øp nh·ªØng ng∆∞·ªùi c·∫ßn ƒë∆∞·ª£c h·ªó tr·ª£</p>
                            </div>
                        </div>
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fa-solid fa-users"></i>
                            </div>
                            <div class="benefit-text">
                                <strong>M·ªü r·ªông m·∫°ng l∆∞·ªõi</strong>
                                <p class="mb-0">K·∫øt n·ªëi v·ªõi c·ªông ƒë·ªìng t√¨nh nguy·ªán vi√™n tr√™n to√†n qu·ªëc</p>
                            </div>
                        </div>
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fa-solid fa-certificate"></i>
                            </div>
                            <div class="benefit-text">
                                <strong>Ch·ª©ng nh·∫≠n t√¨nh nguy·ªán</strong>
                                <p class="mb-0">Nh·∫≠n gi·∫•y ch·ª©ng nh·∫≠n cho c√°c ho·∫°t ƒë·ªông tham gia</p>
                            </div>
                        </div>
                        <div class="benefit-item">
                            <div class="benefit-icon">
                                <i class="fa-solid fa-graduation-cap"></i>
                            </div>
                            <div class="benefit-text">
                                <strong>H·ªçc h·ªèi k·ªπ nƒÉng m·ªõi</strong>
                                <p class="mb-0">ƒê∆∞·ª£c ƒë√†o t·∫°o s∆° c·ª©u, k·ªπ nƒÉng m·ªÅm v√† nhi·ªÅu h∆°n n·ªØa</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Active Volunteers -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="mb-0">
                        <i class="fa-solid fa-users me-2"></i>T√¨nh nguy·ªán vi√™n ƒëang ho·∫°t ƒë·ªông
                    </h5>
                </div>
                <div class="card-body p-0">
                    <div class="volunteer-list" id="volunteerList">
                        <!-- Dynamic content -->
                    </div>
                </div>
            </div>

            <!-- Stats -->
            <div class="card">
                <div class="card-body">
                    <div class="row text-center g-3">
                        <div class="col-4">
                            <div class="mini-stat">
                                <span class="mini-stat-value">156</span>
                                <span class="mini-stat-label">TNV ƒëƒÉng k√Ω</span>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="mini-stat">
                                <span class="mini-stat-value">89</span>
                                <span class="mini-stat-label">ƒêang ho·∫°t ƒë·ªông</span>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="mini-stat">
                                <span class="mini-stat-value">324</span>
                                <span class="mini-stat-label">Nhi·ªám v·ª• ho√†n th√†nh</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Styles {
<style>
    .form-section {
        margin-bottom: 28px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border-color);
    }

    .section-title {
        color: var(--text-primary);
        margin-bottom: 16px;
        font-weight: 600;
    }

    .skills-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
    }

    .skill-option { cursor: pointer; }
    .skill-option input { display: none; }

    .skill-box {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 20px 16px;
        border: 2px solid var(--border-color);
        border-radius: 12px;
        transition: all var(--transition-fast);
    }

    .skill-box i {
        font-size: 2rem;
        color: var(--text-secondary);
        margin-bottom: 10px;
    }

    .skill-name {
        font-weight: 600;
        margin-bottom: 4px;
    }

    .skill-desc {
        font-size: 0.8rem;
        color: var(--text-secondary);
    }

    .skill-option input:checked + .skill-box {
        border-color: var(--success-color);
        background: rgba(34, 197, 94, 0.05);
    }

    .skill-option input:checked + .skill-box i {
        color: var(--success-color);
    }

    .benefit-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
    }

    .benefit-item {
        display: flex;
        gap: 14px;
    }

    .benefit-icon {
        width: 44px;
        height: 44px;
        background: rgba(34, 197, 94, 0.1);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--success-color);
        flex-shrink: 0;
    }

    .benefit-text p {
        font-size: 0.875rem;
        color: var(--text-secondary);
    }

    .volunteer-list {
        max-height: 300px;
        overflow-y: auto;
    }

    .volunteer-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        border-bottom: 1px solid var(--border-color);
    }

    .volunteer-avatar {
        width: 44px;
        height: 44px;
        background: var(--primary-color);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
    }

    .volunteer-info { flex: 1; }
    .volunteer-name { font-weight: 600; }
    .volunteer-skills { font-size: 0.8rem; color: var(--text-secondary); }

    .mini-stat {
        display: flex;
        flex-direction: column;
    }

    .mini-stat-value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--success-color);
    }

    .mini-stat-label {
        font-size: 0.8rem;
        color: var(--text-secondary);
    }

    @@media (max-width: 767.98px) {
        .skills-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
}

@section Scripts {
<script>
document.addEventListener('DOMContentLoaded', async function() {
    // Load volunteers
    const response = await fetch('/data/volunteers.json');
    const data = await response.json();

    const list = document.getElementById('volunteerList');
    const skillLabels = {
        'first-aid': 'S∆° c·ª©u',
        'cooking': 'N·∫•u ƒÉn',
        'driving': 'L√°i xe',
        'tech-support': 'IT'
    };

    data.volunteers.forEach(v => {
        const skills = v.skills.map(s => skillLabels[s] || s).join(', ');
        list.innerHTML += `
            <div class="volunteer-item">
                <div class="volunteer-avatar">${v.name.charAt(0)}</div>
                <div class="volunteer-info">
                    <div class="volunteer-name">${v.name}</div>
                    <div class="volunteer-skills">
                        <i class="fa-solid fa-star me-1"></i>${skills}
                    </div>
                </div>
                <span class="status-badge ${v.status}">${v.status === 'available' ? 'S·∫µn s√†ng' : 'ƒêang l√†m'}</span>
            </div>
        `;
    });

    // Form submit
    document.getElementById('volunteerForm').addEventListener('submit', function(e) {
        e.preventDefault();
        JCIRelief.FormUtils.showToast('ƒêƒÉng k√Ω th√†nh c√¥ng! Ch√∫ng t√¥i s·∫Ω li√™n h·ªá b·∫°n s·ªõm. üéâ', 'success');
    });
});
</script>
}
